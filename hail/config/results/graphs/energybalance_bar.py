from typing import TYPE_CHECKING
from hail.models.calculate import GraphElement, GraphMeta
from hail.models.enums import plotTypes
from hail.result import AbstractResultGraph

if TYPE_CHECKING:
    from hail.reference import RefersTo
    from hail.context import ContextProvider

    Var = RefersTo | ContextProvider


class ElectricityBalanceBar(AbstractResultGraph):

    key = "energybalance_bar"
    name = "Energiebalans"
    unit = "GWh"  # TODO: make a unit Enum, check this unit
    meta = GraphMeta(
        # if we don't supply a title, it will be the same as the name
        # if we don't supply a unit, it will be the same as the unit
        yLabelText="Energie",
        plotType=plotTypes.bar,
        xsectoring="demandSupply",
    )

    @staticmethod
    def graph(var: "Var"):
        return [
            # demand based on https://energytransitionmodel.com/output_elements/final_demand_mekko_energetic_mece
            GraphElement(
                value=var.gqueries.final_demand_of_biomass_products_in_industry_energetic.future,
                color="#5D7929",
                carrier="Biogene brandstoffen",
                sector="Industrie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_biomass_products_in_households_energetic.future,
                color="#5D7929",
                carrier="Biogene brandstoffen",
                sector="Huishoudens",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_biomass_products_in_buildings_energetic.future,
                color="#5D7929",
                carrier="Biogene brandstoffen",
                sector="Gebouwen",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_biomass_products_in_transport_energetic.future,
                color="#5D7929",
                carrier="Biogene brandstoffen",
                sector="Binnenlands transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_biomass_products_in_other_energetic.future,
                color="#5D7929",
                carrier="Biogene brandstoffen",
                sector="Overig",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_biomass_products_in_agriculture_energetic.future,
                color="#5D7929",
                carrier="Biogene brandstoffen",
                sector="Landbouw",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_biomass_products_in_energy_energetic.future,
                color="#5D7929",
                carrier="Biogene brandstoffen",
                sector="Energie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_biomass_products_in_bunkers.future,
                color="#5D7929",
                carrier="Biogene brandstoffen",
                sector="Internationaal transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_oil_and_derivatives_in_industry_energetic.future,
                color="#854321",
                carrier="Olie",
                sector="Industrie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_oil_and_derivatives_in_households_energetic.future,
                color="#854321",
                carrier="Olie",
                sector="Huishoudens",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_oil_and_derivatives_in_transport_energetic.future,
                color="#854321",
                carrier="Olie",
                sector="Binnenlands transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_oil_and_derivatives_in_agriculture_energetic.future,
                color="#854321",
                carrier="Olie",
                sector="Landbouw",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_oil_and_derivatives_in_other_energetic.future,
                color="#854321",
                carrier="Olie",
                sector="Overig",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_oil_and_derivatives_in_buildings_energetic.future,
                color="#854321",
                carrier="Olie",
                sector="Gebouwen",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_oil_and_derivatives_in_energy_energetic.future,
                color="#854321",
                carrier="Olie",
                sector="Energie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_oil_and_derivatives_in_bunkers.future,
                color="#854321",
                carrier="Olie",
                sector="Internationaal transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_natural_gas_and_derivatives_in_industry_energetic.future,
                color="#CCCCCC",
                carrier="Netwerkgas",
                sector="Industrie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_natural_gas_and_derivatives_in_households_energetic.future,
                color="#CCCCCC",
                carrier="Netwerkgas",
                sector="Huishoudens",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_natural_gas_and_derivatives_in_transport_energetic.future,
                color="#CCCCCC",
                carrier="Netwerkgas",
                sector="Binnenlands transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_natural_gas_and_derivatives_in_agriculture_energetic.future,
                color="#CCCCCC",
                carrier="Netwerkgas",
                sector="Landbouw",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_natural_gas_and_derivatives_in_other_energetic.future,
                color="#CCCCCC",
                carrier="Netwerkgas",
                sector="Overig",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_natural_gas_and_derivatives_in_buildings_energetic.future,
                color="#CCCCCC",
                carrier="Netwerkgas",
                sector="Gebouwen",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_natural_gas_and_derivatives_in_energy_energetic.future,
                color="#CCCCCC",
                carrier="Netwerkgas",
                sector="Energie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_natural_gas_and_derivatives_in_bunkers.future,
                color="#CCCCCC",
                carrier="Netwerkgas",
                sector="Internationaal transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_coal_and_derivatives_in_industry_energetic.future,
                color="#333333",
                carrier="Kolen",
                sector="Industrie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_coal_and_derivatives_in_households_energetic.future,
                color="#333333",
                carrier="Kolen",
                sector="Huishoudens",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_coal_and_derivatives_in_transport_energetic.future,
                color="#333333",
                carrier="Kolen",
                sector="Binnenlands transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_coal_and_derivatives_in_agriculture_energetic.future,
                color="#333333",
                carrier="Kolen",
                sector="Landbouw",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_coal_and_derivatives_in_other_energetic.future,
                color="#333333",
                carrier="Kolen",
                sector="Overig",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_coal_and_derivatives_in_buildings_energetic.future,
                color="#333333",
                carrier="Kolen",
                sector="Gebouwen",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_coal_and_derivatives_in_energy_energetic.future,
                color="#333333",
                carrier="Kolen",
                sector="Energie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_coal_and_derivatives_in_bunkers.future,
                color="#333333",
                carrier="Kolen",
                sector="Internationaal transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_solar_in_industry_energetic.future,
                color="#FFD900",
                carrier="Zonthermie",
                sector="Industrie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_solar_in_households_energetic.future,
                color="#FFD900",
                carrier="Zonthermie",
                sector="Huishoudens",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_solar_in_transport_energetic.future,
                color="#FFD900",
                carrier="Zonthermie",
                sector="Binnenlands transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_solar_in_agriculture_energetic.future,
                color="#FFD900",
                carrier="Zonthermie",
                sector="Landbouw",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_solar_in_other_energetic.future,
                color="#FFD900",
                carrier="Zonthermie",
                sector="Overig",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_solar_in_buildings_energetic.future,
                color="#FFD900",
                carrier="Zonthermie",
                sector="Gebouwen",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_solar_in_energy_energetic.future,
                color="#FFD900",
                carrier="Zonthermie",
                sector="Energie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_solar_in_bunkers.future,
                color="#FFD900",
                carrier="Zonthermie",
                sector="Internationaal transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_geothermal_in_industry_energetic.future,
                color="#FF8400",
                carrier="Geothermisch",
                sector="Industrie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_geothermal_in_households_energetic.future,
                color="#FF8400",
                carrier="Geothermisch",
                sector="Huishoudens",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_geothermal_in_transport_energetic.future,
                color="#FF8400",
                carrier="Geothermisch",
                sector="Binnenlands transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_geothermal_in_agriculture_energetic.future,
                color="#FF8400",
                carrier="Geothermisch",
                sector="Landbouw",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_geothermal_in_other_energetic.future,
                color="#FF8400",
                carrier="Geothermisch",
                sector="Overig",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_geothermal_in_buildings_energetic.future,
                color="#FF8400",
                carrier="Geothermisch",
                sector="Gebouwen",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_geothermal_in_energy_energetic.future,
                color="#FF8400",
                carrier="Geothermisch",
                sector="Energie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_geothermal_in_bunkers.future,
                color="#FF8400",
                carrier="Geothermisch",
                sector="Internationaal transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_electricity_in_buildings_energetic.future,
                color="#4169E1",
                carrier="Elektriciteit",
                sector="Gebouwen",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_electricity_in_other_energetic.future,
                color="#4169E1",
                carrier="Elektriciteit",
                sector="Overig",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_electricity_in_agriculture_energetic.future,
                color="#4169E1",
                carrier="Elektriciteit",
                sector="Landbouw",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_electricity_in_households_energetic.future,
                color="#4169E1",
                carrier="Elektriciteit",
                sector="Huishoudens",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_electricity_in_industry_energetic.future,
                color="#4169E1",
                carrier="Elektriciteit",
                sector="Industrie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_electricity_in_transport_energetic.future,
                color="#4169E1",
                carrier="Elektriciteit",
                sector="Binnenlands transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_electricity_in_energy_energetic.future,
                color="#4169E1",
                carrier="Elektriciteit",
                sector="Energie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_electricity_in_bunkers.future,
                color="#4169E1",
                carrier="Elektriciteit",
                sector="Internationaal transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_heat_in_other_energetic.future,
                color="#8B0000",
                carrier="Warmte",
                sector="Overig",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_heat_in_agriculture_energetic.future,
                color="#8B0000",
                carrier="Warmte",
                sector="Landbouw",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_heat_in_households_energetic.future,
                color="#8B0000",
                carrier="Warmte",
                sector="Huishoudens",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_heat_in_industry_energetic.future,
                color="#8B0000",
                carrier="Warmte",
                sector="Industrie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_heat_in_transport_energetic.future,
                color="#8B0000",
                carrier="Warmte",
                sector="Binnenlands transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_heat_in_buildings_energetic.future,
                color="#8B0000",
                carrier="Warmte",
                sector="Gebouwen",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_heat_in_energy_energetic.future,
                color="#8B0000",
                carrier="Warmte",
                sector="Energie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_heat_in_bunkers.future,
                color="#8B0000",
                carrier="Warmte",
                sector="Internationaal transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_hydrogen_in_agriculture_energetic.future,
                color="#87CEEB",
                carrier="Waterstof",
                sector="Landbouw",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_hydrogen_in_buildings_energetic.future,
                color="#87CEEB",
                carrier="Waterstof",
                sector="Gebouwen",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_hydrogen_in_households_energetic.future,
                color="#87CEEB",
                carrier="Waterstof",
                sector="Huishoudens",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_hydrogen_in_industry_energetic.future,
                color="#87CEEB",
                carrier="Waterstof",
                sector="Industrie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_hydrogen_in_other_energetic.future,
                color="#87CEEB",
                carrier="Waterstof",
                sector="Overig",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_hydrogen_in_transport_energetic.future,
                color="#87CEEB",
                carrier="Waterstof",
                sector="Binnenlands transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_hydrogen_in_energy_energetic.future,
                color="#87CEEB",
                carrier="Waterstof",
                sector="Energie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_hydrogen_in_bunkers.future,
                color="#87CEEB",
                carrier="Waterstof",
                sector="Internationaal transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_ammonia_in_industry_energetic.future,
                color="#1ce6d6",
                carrier="Ammoniak",
                sector="Industrie",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_ammonia_in_transport_energetic.future,
                color="#1ce6d6",
                carrier="Ammoniak",
                sector="Binnenlands transport",
                demandSupply="Vraag",
            ),
            GraphElement(
                value=var.gqueries.final_demand_of_ammonia_in_bunkers.future,
                color="#1ce6d6",
                carrier="Ammoniak",
                sector="Internationaal transport",
                demandSupply="Vraag",
            ),
            # supply based on https://energytransitionmodel.com/output_elements/source_of_electricity_production
            GraphElement(
                value=var.gqueries.coal_in_source_of_electricity_production.future,
                color="#333333",
                carrier="Elektriciteit uit kolen",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.coal_gas_in_source_of_electricity_production.future,
                color="#7040c2",
                carrier="Elektriciteit uit kolengas",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.gas_in_source_of_electricity_production.future,
                color="#CCCCCC",
                carrier="Elektriciteit uit aardgas",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.greengas_in_source_of_electricity_production.future,
                color="#92B940",
                carrier="Elektriciteit uit groengas",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.nuclear_in_source_of_electricity_production.future,
                color="#E07033",
                carrier="Elektriciteit uit uranium",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.biomass_in_source_of_electricity_production.future,
                color="#5D7929",
                carrier="Elektriciteit uit vaste biomassa",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.import_in_source_of_electricity_production.future,
                color="#4169E1",
                carrier="Elektriciteit uit import",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.wind_in_source_of_electricity_production.future,
                color="#63A1C9",
                carrier="Elektriciteit uit wind",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.hydrogen_in_source_of_electricity_production.future,
                color="#BFEFFF",
                carrier="Elektriciteit uit waterstof",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.hydro_in_source_of_electricity_production.future,
                color="#87CEEB",
                carrier="Elektriciteit uit waterkracht",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.oil_in_source_of_electricity_production.future,
                color="#854321",
                carrier="Elektriciteit uit olie",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.geothermal_in_source_of_electricity_production.future,
                color="#BA7D40",
                carrier="Elektriciteit uit geothermie",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.waste_in_source_of_electricity_production.future,
                color="#394C19",
                carrier="Elektriciteit uit afval",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.solar_in_source_of_electricity_production.future,
                color="#ADDE4C",
                carrier="Elektriciteit uit zon",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
            GraphElement(
                value=var.gqueries.biogas_in_source_of_electricity_production.future,
                color="#32CD32",
                carrier="Elektriciteit uit biogas",
                sector="Opwek",
                demandSupply="Aanbod",
            ),
        ]

    @staticmethod
    def graph_aggregate(var: "Var"):

        raise NotImplementedError
